<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Faceless Void">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="Faceless Void">
<meta property="og:locale">
<meta property="article:author" content="第三选">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/7/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'default'
  };
</script>

  <title>Faceless Void</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Faceless Void</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/990ad6b3.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/990ad6b3.html" class="post-title-link" itemprop="url">mysql建数据库</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 19:15:00" itemprop="dateCreated datePublished" datetime="2015-06-13T19:15:00+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/990ad6b3.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/990ad6b3.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="新建用户"><a href="#新建用户" class="headerlink" title="新建用户"></a>新建用户</h2><p>登录MYSQL</p>
<pre><code>mysql -u root -p
</code></pre>
<p>创建用户</p>
<pre><code>insert into mysql.user(Host,User,Password) values(&#39;localhost&#39;,&#39;waf_alarm&#39;,password(&#39;waf_alarm&#39;));
</code></pre>
<p>刷新系统权限表</p>
<pre><code>flush privileges;
</code></pre>
<p>这样就创建了一个名为：waf_alarm 密码为：waf_alarm 的用户。</p>
<p>为用户授权</p>
<p>登录MYSQL（有ROOT权限）。我里我以ROOT身份登录.</p>
<pre><code>mysql -u root -p
</code></pre>
<p>首先为用户创建一个数据库(waf_alarm_db)</p>
<pre><code>create database waf_alarm_db;
</code></pre>
<p>授权用户拥有waf_alarm_db数据库的所有权限</p>
<pre><code>grant all privileges on waf_alarm_db.* to &#39;waf_alarm&#39;@&#39;localhost&#39; identified by &#39;waf_alarm&#39;;
</code></pre>
<p>刷新系统权限表</p>
<pre><code>flush privileges;
</code></pre>
<p>如果想指定部分权限给一用户，可以这样来写:</p>
<pre><code>grant select,update on jeecnDB.* to wordpress@localhost identified by &#39;wordpress&#39;;
</code></pre>
<p>刷新系统权限表。</p>
<pre><code>flush privileges;
grant 权限1,权限2,…权限n on 数据库名称.表名称 to 用户名@用户地址 identified by ‘连接口令’;
</code></pre>
<p>权限1,权限2,…权限n代表select,insert,update,delete,create,drop,index,alter,grant,references,reload,shutdown,process,file等14个权限。<br>当权限1,权限2,…权限n被all privileges或者all代替，表示赋予用户全部权限。<br>当数据库名称.表名称被*.*代替，表示赋予用户操作服务器上所有数据库所有表的权限。<br>用户地址可以是localhost，也可以是ip地址、机器名字、域名。也可以用’%’表示从任何地址连接。<br>‘连接口令’不能为空，否则创建失败。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/a3856131.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/a3856131.html" class="post-title-link" itemprop="url">LMAP搭建</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 19:15:00" itemprop="dateCreated datePublished" datetime="2015-06-13T19:15:00+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/a3856131.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/a3856131.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="安装apache"><a href="#安装apache" class="headerlink" title="安装apache"></a>安装apache</h2><pre><code>yum install httpd
</code></pre>
<p> Apache配置文件</p>
<pre><code>vim /etc/httpd/conf/httpd.conf 
</code></pre>
<p>添加</p>
<pre><code>    LoadModule php5_module modules/libphp5.so
</code></pre>
<p>启动 Apache  mysql</p>
<pre><code> service httpd restart 
 service mysqld restart
</code></pre>
<p>This should be changed to whatever you set DocumentRoot to.<br>&lt;Directory “/var/www/html”&gt;</p>
<h2 id="安装Mysql"><a href="#安装Mysql" class="headerlink" title="安装Mysql"></a>安装Mysql</h2><pre><code>yum install -y mysql-server mysql mysql-deve
</code></pre>
<p>初始化</p>
<pre><code>service mysqld start
</code></pre>
<p>给我们的root账号设置密码为system</p>
<pre><code>mysqladmin -u root password &#39;system&#39;
</code></pre>
<h2 id="安装-PHP组件"><a href="#安装-PHP组件" class="headerlink" title="安装 PHP组件"></a>安装 PHP组件</h2><pre><code>yum install php php-devel php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt php-mbstring 
</code></pre>
<p>设置开机启动</p>
<pre><code>chkconfig httpd on 
chkconfig mysqld on 
</code></pre>
<p>重启 MySql  </p>
<pre><code>service mysqld restart 
</code></pre>
<p>重启Apche  </p>
<pre><code>service httpd restart 
</code></pre>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>在/var/www/html/ 下</p>
<p>新建文件</p>
<p>##PHPINFO测试<br> wim index.php </p>
<?php 
phpinfo(); 
?><p>##连接数据库测试：</p>
<p>mysql.php </p>
<?php  
$link = mysql_connect("127.0.0.1:3306","root","system"); 
if($link!=false) {  
    echo"成功连接mysql服务器"; 
  } else  {  
    echo"与本地Mysql服务器连接失败"; 
  }  
mysql_close(); 
?>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/f1a1a78f.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/f1a1a78f.html" class="post-title-link" itemprop="url">mysql允许null与default值</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 19:14:49" itemprop="dateCreated datePublished" datetime="2015-06-13T19:14:49+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/f1a1a78f.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/f1a1a78f.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Mysql-允许null-与-default值"><a href="#Mysql-允许null-与-default值" class="headerlink" title="Mysql 允许null 与 default值"></a>Mysql 允许null 与 default值</h2><p>分为下面4种情况：<br>1、允许null， 指定default值。<br>2、允许null， 不指定default，这个时候可认为default值就是null<br>3、不允许null，指定default值，不能指定default值为null，否者报错 Invalid default value for xxx<br>4、不允许null，不指定default值。这种情况，Insert的时候，必须指定值。否者报错 Field xxx doesn’t have a default value</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/30394258.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/30394258.html" class="post-title-link" itemprop="url">SSH端口转发（内网反向链接）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 19:13:26" itemprop="dateCreated datePublished" datetime="2015-06-13T19:13:26+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/30394258.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/30394258.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="开启端口"><a href="#开启端口" class="headerlink" title="开启端口"></a>开启端口</h2><p>linux系统下，81端口一般情况下是关闭的。<br>开启81端口：</p>
<pre><code>iptables -I INPUT -i eth0 -p tcp --dport 81 -j ACCEPT
iptables -I OUTPUT -o eth0 -p tcp --sport 81 -j ACCEPT
</code></pre>
<p>关闭81端口：</p>
<pre><code>iptables -I INPUT -i eth0 -p tcp --dport 81 -j DROP
iptables -I OUTPUT -o eth0 -p tcp --sport 81 -j DROP
</code></pre>
<p>然后保存： </p>
<pre><code>#/etc/rc.d/init.d/iptables save 
</code></pre>
<p>再查看是否已经有了： </p>
<pre><code>[root@vcentos ~]# /etc/init.d/iptables status
</code></pre>
<h2 id="在内网B主机上生产公钥和私钥"><a href="#在内网B主机上生产公钥和私钥" class="headerlink" title="在内网B主机上生产公钥和私钥"></a>在内网B主机上生产公钥和私钥</h2><pre><code>ssh-keygen
...(一直按Enter，最后在~/.ssh/下生成密钥)
ls ~/.ssh/
id_rsa id_rsa.pub known_hosts
</code></pre>
<h2 id="复制B主机上生成的id-rsa-pub公钥到外网A主机上，并将内容加入到-ssh-authorized-keys中"><a href="#复制B主机上生成的id-rsa-pub公钥到外网A主机上，并将内容加入到-ssh-authorized-keys中" class="headerlink" title="复制B主机上生成的id_rsa.pub公钥到外网A主机上，并将内容加入到~/.ssh/authorized_keys中"></a>复制B主机上生成的id_rsa.pub公钥到外网A主机上，并将内容加入到~/.ssh/authorized_keys中</h2><p>把 id_rsa 私钥复制到路由器中 /root/.ssh 文件夹下</p>
<pre><code>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
</code></pre>
<p>运行</p>
<pre><code>autossh -M 5678 -NR 19999:localhost:22 user@23.244.180.54
</code></pre>
<p>如果提示错误<br>Agent admitted failure to sign using the key.<br>解决方法：<br>在当前用户下执行命令：</p>
<pre><code>ssh-add
</code></pre>
<p>Centos需要安装autossh<br><a target="_blank" rel="noopener" href="http://www.harding.motd.ca/autossh/">http://www.harding.motd.ca/autossh/</a></p>
<h2 id="在内网机器输入"><a href="#在内网机器输入" class="headerlink" title="在内网机器输入"></a>在内网机器输入</h2><pre><code>autossh -M 5678 -NR 19999:localhost:22 root@myserver_ip
//autossh -M 5678 -NR 19999:localhost:22 user@23.244.180.54
///bin/su -c &#39;/usr/bin/autossh -M 5678 -NR 19999:localhost:22 root@23.244.180.54 -p2221&#39; - root
</code></pre>
<p>1 修改服务器ssh配置文件，在/etc/ssh/sshd_config中加入下面一句话，为了能够实现全局访问，ssh中 -g参数不知道为什么没有效果，所以只好这么改了。</p>
<pre><code>GatewayPorts yes  

/etc/init.d/sshd restart
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/b56cf41b.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/b56cf41b.html" class="post-title-link" itemprop="url">git指令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 19:11:00" itemprop="dateCreated datePublished" datetime="2015-06-13T19:11:00+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/b56cf41b.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/b56cf41b.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>获取github上的项目</p>
<pre><code>git clone 项目地址
</code></pre>
<p>切换分支</p>
<pre><code>git checkout &#39;branchName&#39;
</code></pre>
<p>从远程更新代码到本地</p>
<pre><code>git pull
</code></pre>
<p>添加代码到索引</p>
<pre><code>git add .
</code></pre>
<p>提交</p>
<pre><code>git commit -m &#39;update&#39;
</code></pre>
<p>更新至远程</p>
<pre><code>git push origin master    
</code></pre>
<p>查看提交纪录</p>
<pre><code>git log
git log -p xxxxxxxxxxxxxxxxx
</code></pre>
<p>回退更改</p>
<pre><code>git reset xxxxxxxxxxxxxxxxx
</code></pre>
<p>删除Git仓库所有提交历史记录，成为一个干净的新仓库</p>
<p>Checkout</p>
<pre><code>git checkout --orphan latest_branch
</code></pre>
<p>   Add all the files</p>
<pre><code>git add -A
</code></pre>
<p>Commit the changes</p>
<pre><code>git commit -am &quot;commit message&quot;
</code></pre>
<p>Delete the branch</p>
<pre><code>git branch -D master
</code></pre>
<p>Rename the current branch to master</p>
<pre><code>git branch -m master
</code></pre>
<p>Finally, force update your repository</p>
<pre><code>git push -f origin master
</code></pre>
<p>参考地址:</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/13716658/how-to-delete-all-commit-history-in-github">https://stackoverflow.com/questions/13716658/how-to-delete-all-commit-history-in-github</a></p>
</blockquote>
<p>git add -A 和 git add . 的区别</p>
<p>Git Version 1.x: </p>
<p><img src="/git%E6%8C%87%E4%BB%A4/git1.jpg"></p>
<p>Git Version 2.x: </p>
<p><img src="/git%E6%8C%87%E4%BB%A4/git2.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/685e764b.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/685e764b.html" class="post-title-link" itemprop="url">rsync配置</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 19:09:47" itemprop="dateCreated datePublished" datetime="2015-06-13T19:09:47+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/685e764b.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/685e764b.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="rsyncd-conf"><a href="#rsyncd-conf" class="headerlink" title="rsyncd.conf"></a>rsyncd.conf</h2><pre><code># Minimal configuration file for rsync daemon
# See rsync(1) and rsyncd.conf(5) man pages for help
 
# This line is required by the /etc/init.d/rsyncd script
pid file = /var/run/rsyncd.pid   
port = 873 
address = 209.141.51.244
#uid = nobody
#gid = nobody   
uid = root   
gid = root   
 
use chroot = yes 
read only = yes 
 
 
#limit access to private LANs
#hosts allow=192.168.1.0/255.255.255.0 10.0.1.0/255.255.255.0 
#hosts deny=*
hosts allow=23.244.180.54
max connections = 3
motd file = /etc/rsyncd/rsyncd.motd
 
#This will give you a separate log file
log file = /home/wwwlogs/rsync.log
 
#This will log every file transferred - up to 85,000+ per user, per sync
#transfer logging = yes
 
log format = %t %a %m %f %b
syslog facility = local3
timeout = 300
 
[backup]   
path = /root
list=yes
ignore errors
auth users = rsync
secrets file = /etc/rsyncd/rsyncd.secrets
</code></pre>
<h2 id="rs-sh"><a href="#rs-sh" class="headerlink" title="rs.sh"></a>rs.sh</h2><pre><code>rsync -avzP --delete  --password-file=./pass rsync@209.141.51.244::backup /backup
</code></pre>
<h2 id="rsyncd-secrets"><a href="#rsyncd-secrets" class="headerlink" title="rsyncd.secrets"></a>rsyncd.secrets</h2><pre><code>rsync:system
</code></pre>
<h2 id="pass"><a href="#pass" class="headerlink" title="pass"></a>pass</h2><pre><code>system
</code></pre>
<h2 id="rsync服务重启"><a href="#rsync服务重启" class="headerlink" title="rsync服务重启"></a>rsync服务重启</h2><pre><code>209.141.51.244

/usr/bin/rsync -vzrtopg --delete  --progress root@209.141.51.244::backup 
./backup

//开机启动  把下面的代码放到/etc/rc.local
rsync --daemon --config=/etc/rsyncd/rsyncd.conf 
ps -ef |grep rsync
kill -9 0000
</code></pre>
<p>在前面”一句话SSH命令利用rsync同步备份VPS网站目录文件”文章中仅仅是简单RSYNC功能应用，强大的RSYNC不仅仅这么简单的功能。鉴于老左的能力和技术有限，搜寻强大的网络资源库看看有没有对RSYNC升级的应用功能加以学习应用。看到小夜的关于RSYNC增量备份的文章，于是老左这边也一起学习和整理看看是否完整能够实现定时同步增量备份。<br>第一、RSYNC同步备份准备工作<br>我们需要先下载2个文件包：RSYNC服务器端配置文件（VPS数据部分） /RSYNC客户端配置文件（VPS备份主机）<br>客户端：<a target="_blank" rel="noopener" href="http://soft.laozuo.org/backup/rsync-root.zip">http://soft.laozuo.org/backup/rsync-root.zip</a><br>服务器端：<a target="_blank" rel="noopener" href="http://soft.laozuo.org/backup/rsync-server.zip">http://soft.laozuo.org/backup/rsync-server.zip</a><br>第二、配置服务器端VPS<br>我们把rsync-server.zip下载的服务器端RSYNC配置文件上传至/etc目录，在上传之前，需要修改几个位置：<br>A - rsyncd.conf第7行的address = 11.11.11.11把IP地址修改成我们的服务器端IP地址<br>B -rsyncd.conf 第20行修改hosts allow=22.22.22.22修改成我们客户端的IP地址<br>C -rsyncd.conf第35行修改path = /home/wwwroot/ 修改成我们需要同步的目录<br>D - 修改rsyncd.secrets文件中的用户名和密码（用户名需要与下面的E一致，密码随意），然后在SSH中授予600权限<br>chmod 600 /etc/rsyncd/rsyncd.secrets<br>E -rsyncd.conf第38行，auth users = loong ，后面的loong用户名需要与上面D中设置的用户名一致<br>第三、设置服务器端运行rsync<br>/usr/bin/rsync –daemon –config=/etc/rsyncd/rsyncd.conf<br>第四、设置客户端配置文件<br>下载rsync-root.zip文件，修改文件后上传至ROOT目录中<br>A - 设置/root/pass文件中的密码为客户端ROOT密码，并且也需要授权600权限<br>chmod 600 /root/root/pass<br>B - 设置/root/rs.sh中的脚本路径，需要保持与服务器端一致<br>rsync -avzP –delete –password-file=/root/pass <a href="mailto:&#x6c;&#x61;&#x6f;&#x7a;&#x75;&#111;&#115;&#101;&#x72;&#x76;&#101;&#114;&#64;&#49;&#x31;&#49;&#x2e;&#49;&#x31;&#49;&#46;&#49;&#x31;&#x31;&#46;&#49;&#x31;&#49;">&#x6c;&#x61;&#x6f;&#x7a;&#x75;&#111;&#115;&#101;&#x72;&#x76;&#101;&#114;&#64;&#49;&#x31;&#49;&#x2e;&#49;&#x31;&#49;&#46;&#49;&#x31;&#x31;&#46;&#49;&#x31;&#49;</a>::vpsmmhome /home/wwwroot/laozuo.org/<br>#laozuoserver为服务器端/etc/rsyncd/rsyncd.secrets的用户名一致<br>#111.111.111.111代表服务器端的IP地址<br>#vpsmmhome为/etc/rsyncd/rsyncd.conf中自定义用户名<br>#/home/wwwroot/laozuo.org/为需要同步备份的网站目录<br>C - 设置rs.sh权限<br>chmod +x /root/rs.sh<br>第五、测试备份以及定时备份<br>执行sh rs.sh可以实现测试现在就手工备份，执行的时候需要我们输入/root/pass的密码，然后才可以执行</p>
<p>我们肯定不是需要手工备份，我们需要定时执行备份脚本（输入 crontab -e 然后添加下面一行）。<br>30 */1 * * * /root/rs.sh<br>备注：每小时的30分钟自动同步一次，这个时间我们可以自己设置，你也可以设置一天备份一次。<br>老左在写教程的时候已经测试成功一次，且定时设置，可以确保这篇文章是完整的。RSYNC这篇的备份是定时增备份，如果文件没有变化是不会变动，会变动有变动的文件，保持与客户端一致，同样的我们也可以设置数据库的备份，这样保证文件的同步，一旦客户端VPS出现问题，我们只要切换解析就可以保证网站可以不受影响。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.laozuo.org/4480.html">http://www.laozuo.org/4480.html</a> | 老左博客</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/7f3cca4f.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/7f3cca4f.html" class="post-title-link" itemprop="url">linux常用指令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 19:08:42" itemprop="dateCreated datePublished" datetime="2015-06-13T19:08:42+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/7f3cca4f.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/7f3cca4f.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="查看所有安装的软件包"><a href="#查看所有安装的软件包" class="headerlink" title="查看所有安装的软件包"></a>查看所有安装的软件包</h2><pre><code>rpm -qa  
</code></pre>
<h2 id="建立软链接"><a href="#建立软链接" class="headerlink" title="建立软链接"></a>建立软链接</h2><p><code>ln -s a b</code> 中的 a 就是源文件，b是链接文件名,其作用是当进入b目录，实际上是链接进入了a目录</p>
<h2 id="安装本地rpm包"><a href="#安装本地rpm包" class="headerlink" title="安装本地rpm包"></a>安装本地rpm包</h2><pre><code>yum localinstall -y xxx.rpm
</code></pre>
<h2 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h2><pre><code>重启后生效 
开启： chkconfig iptables on 
关闭： chkconfig iptables off 

即时生效，重启后失效 
开启： service iptables start 
关闭： service iptables stop 
</code></pre>
<h2 id="Linux关闭SELinux"><a href="#Linux关闭SELinux" class="headerlink" title="Linux关闭SELinux"></a>Linux关闭SELinux</h2><pre><code> 重启后永久性生效：
修改/etc/selinux/config文件中设置SELINUX=disabled ，然后重启服务器。

即时生效，重启后失效：
使用命令`setenforce 0`
</code></pre>
<p>附：</p>
<pre><code>setenforce 1 设置SELinux 成为enforcing模式

setenforce 0 设置SELinux 成为permissive模式
</code></pre>
<h2 id="关闭蜂鸣声"><a href="#关闭蜂鸣声" class="headerlink" title="关闭蜂鸣声"></a>关闭蜂鸣声</h2><pre><code>rmmod pcspkr
</code></pre>
<h2 id="写入配置文件"><a href="#写入配置文件" class="headerlink" title="写入配置文件"></a>写入配置文件</h2><pre><code>echo &quot;alias pcspkr off&quot;&gt;&gt;/etc/modprobe.conf
</code></pre>
<h2 id="grep通过文件名查找文件所在位置"><a href="#grep通过文件名查找文件所在位置" class="headerlink" title="grep通过文件名查找文件所在位置"></a>grep通过文件名查找文件所在位置</h2><pre><code>    grep -rl &#39;filename&#39; ./
</code></pre>
<p>-r 选项表示递归(recursive)遍历所有子目录<br>-l 选项表示只列出文件名<br>./ 是目录名, 表示当前文件夹   </p>
<p>##centos添加EPEL<br>    yum install epel-release</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/2dbe2370.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/2dbe2370.html" class="post-title-link" itemprop="url">c语言基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 18:57:22" itemprop="dateCreated datePublished" datetime="2015-06-13T18:57:22+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/2dbe2370.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/2dbe2370.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="指针数组结合性"><a href="#指针数组结合性" class="headerlink" title="指针数组结合性"></a>指针数组结合性</h2><pre><code>int(*p)[4];------ptr为指向含4个元素的一维整形数组的指针变量（是指针）
int *p[4];-------定义指针数组p，它由4个指向整型数据的指针元素组成（是数组）
int(*)[4];--------实际上可以看作是一种数据类型。也就是第一个（int(*p)[4];）中定义的p的数据类型
其实你要看这种到底是什么，就是要看他最先和谁结合。 比如1中p先与*结合，那就说明p本质是一个指针；而2中p先与后面的[4]结合，说明他本质是一个数组。
</code></pre>
<h2 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h2><pre><code>srand（（int）time（NULL））；设定随机数种子
rand()%100；产生0-99的随机数。高级点的，假如要产生16-59之间的数，你可以这样写：rand（）%44+16（这里44由59-16+1得到）。
</code></pre>
<h2 id="0与NULL的区别"><a href="#0与NULL的区别" class="headerlink" title="0与NULL的区别"></a>0与NULL的区别</h2><p>通常 ‘\0’和NULL的值都是0。但他们各自代表的含义不同。判断字符串结尾时，用’\0’。判断指针，用NULL。不要混用。</p>
<p>参考：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://bbs.csdn.net/topics/370159675">http://bbs.csdn.net/topics/370159675</a></p>
</blockquote>
<h2 id="int-a-10-和-int-a-10-的区别"><a href="#int-a-10-和-int-a-10-的区别" class="headerlink" title="int (a)[10] 和 int a[10] 的区别"></a>int (a)[10] 和 int a[10] 的区别</h2><pre><code>理解声明有一条很简单的法则，不过不是什么“从左向右”这种没道理却到处宣传的法则。这一法则的观点是，一个声明是要告诉你，你所声明的对象要如何使用。例如：

int *p; /* *p是int类型的, 因此p是指向int类型的指针 */
int a[5]; /* a[0], ..., a[4] 是int类型的, 因此a是int类型的数组 */
int *ap[5]; /* *ap[0], .., *ap[4] 是int类型的, 因此ap是包含指向int类型指针的指针数组 */
int (*pa)[5]; /* (*pa)[0], ..., (*pa)[4] 是int类型的, 因此pa是指向一个int类型数组的指针 */


指针数组：首先它是一个数组，数组的元素都是指针，数组占多少个字节由数组本身决定。它是“储存指针的数组”的简称。
数组指针：首先它是一个指针，它指向一个数组。在32 位系统下永远是占4 个字节，至于它指向的数组占多少字节，不知道。它是“指向数组的指针”的简称。
</code></pre>
<h2 id="strlen"><a href="#strlen" class="headerlink" title="strlen"></a>strlen</h2><pre><code>char str[20]=&quot;0123456789&quot;;
int a=strlen(str); //a=10; &gt;&gt;&gt;&gt; strlen 计算字符串的长度，以结束符 0x00 为字符串结束。
int b=sizeof(str); //而b=20; &gt;&gt;&gt;&gt; sizeof 计算的则是分配的数组 str[20] 所占的内存空间的大小，不受里面存储的内容改变。  
！！！计算\0！！！
</code></pre>
<h2 id="单目，条件，赋值，右结合-其余都为左结合"><a href="#单目，条件，赋值，右结合-其余都为左结合" class="headerlink" title="单目，条件，赋值，右结合(其余都为左结合)"></a>单目，条件，赋值，右结合(其余都为左结合)</h2><h2 id="缓存清除器"><a href="#缓存清除器" class="headerlink" title="缓存清除器"></a>缓存清除器</h2><pre><code>while(c=getchar()!=&#39;\n&#39;)
</code></pre>
<h2 id="结构体在内存中的对齐规则"><a href="#结构体在内存中的对齐规则" class="headerlink" title="结构体在内存中的对齐规则"></a>结构体在内存中的对齐规则</h2><pre><code>元素放置的位置一定会在自己宽度的整数倍上开始
检查计算出的存储单元是否为所有元素中最宽的元素的长度的整数倍，是，则结束；若不是，则补齐为它的整数倍。(末尾添加)
</code></pre>
<p>参考： </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://blog.csdn.net/liukun321/article/details/6974282">http://blog.csdn.net/liukun321/article/details/6974282</a></p>
</blockquote>
<h2 id="数据在内存中的存储位置"><a href="#数据在内存中的存储位置" class="headerlink" title="数据在内存中的存储位置"></a>数据在内存中的存储位置</h2><pre><code>C/C++
一个由C/C++编译的程序占用的内存分为以下几个部分
1、栈区（stack）— 由编译器自动分配释放 ，存放函数的参数名，局部变量的名等。其操作方式类似于数据结构中的栈。
2、堆区（heap）— 由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收。注意它与数据结构中的堆是两回事，分配方式倒是类似于链表。
3、全局区（静态区）（static）—全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域， 未初始化的全局变量和未初始化的静态变量在相邻的另一块区域。程序结束后由系统释放。
4、文字常量区—常量字符串就是放在这里的，程序结束后由系统释放 。
5、程序代码区— 存放函数体的二进制代码。
例子程序
这是一个前辈写的，非常详细

//main.cpp
inta=0;//全局初始化区
char*p1;//全局未初始化区
main()
&#123;
intb;//栈
chars[]=&quot;abc&quot;;//栈
char*p2;//栈
char*p3=&quot;123456&quot;;//123456\0在常量区，p3在栈上。
staticintc=0;//全局（静态）初始化区
p1=(char*)malloc(10);
p2=(char*)malloc(20);//分配得来的10和20字节的区域就在堆区。
&#125;
strcpy(p1, &quot;123456&quot;); 123456\0放在常量区，编译器可能会将它与p3所指向的&quot;123456&quot;优化成一个地方。
</code></pre>
<h2 id="与或非"><a href="#与或非" class="headerlink" title="与或非"></a>与或非</h2><pre><code>真真得真（与运算），假假得假（或运算），同假异真（异或运算）。

与 
0&amp;&amp;0 =0 
1&amp;&amp;0 =0 
0&amp;&amp;1 =0 
1&amp;&amp;1 =1 
或 
0||0 =0 
1||0 =1 
0||1 =1 
1||1 =1 
非 
~1 =0 
~0 =1 
1100和1000按位与运算结果是 1000
</code></pre>
<h2 id="指针类型指针指向类型-1操作移动字节数"><a href="#指针类型指针指向类型-1操作移动字节数" class="headerlink" title="指针类型指针指向类型(+1操作移动字节数)"></a>指针类型指针指向类型(+1操作移动字节数)</h2><pre><code>指针是一个特殊的变量，它里面存储的数值被解释成为内存里的一个地址。 要搞清一个指针需要搞清指针的四方面的内容：指针的类型，指针所指向的 类型，指针的值或者叫指针所指向的内存区，还有指针本身所占据的内存区。让我们分别说明。 
　　先声明几个指针放着做例子： 
　　例一： 
　　(1)int*ptr; 
　　(2)char*ptr; 
　　(3)int**ptr; 
　　(4)int(*ptr)[3]; 
　　(5)int*(*ptr)[4]; 
　　 
　　指针的类型 
　　从语法的角度看，你只要把指针声明语句里的指针名字去掉，剩下的部分就是这个指针的类型。这是指针本身所具有的类型。让我们看看例一中各个指针的类型： 
　　(1)int*ptr;//指针的类型是int* 
　　(2)char*ptr;//指针的类型是char* 
　　(3)int**ptr;//指针的类型是int** 
　　(4)int(*ptr)[3];//指针的类型是int(*)[3] 
　　(5)int*(*ptr)[4];//指针的类型是int*(*)[4] 
　　怎么样？找出指针的类型的方法是不是很简单？ 
　　指针所指向的类型 
　　当你通过指针来访问指针所指向的内存区时，指针所指向的类型决定了编译器将把那片内存区里的内容当做什么来看待。 
　　从语法上看，你只须把指针声明语句中的指针名字和名字左边的指针声明符*去掉，剩下的就是指针所指向的类型。例如： 
　　(1)int*ptr;//指针所指向的类型是int 
　　(2)char*ptr;//指针所指向的的类型是char 
　　(3)int**ptr;//指针所指向的的类型是int* 
　　(4)int(*ptr)[3];//指针所指向的的类型是int()[3] 
　　(5)int*(*ptr)[4];//指针所指向的的类型是int*()[4] 
　　在指针的算术运算中，指针所指向的类型有很大的作用。 
　　指针的类型(即指针本身的类型)和指针所指向的类型是两个概念。当你对C越来越熟悉时，你会发现，把与指针搅和在一起的 &quot;类型 &quot;这个概念分成 &quot;指针的类型 &quot;和 &quot;指针所指向的类型 &quot;两个概念，是精通指针的关键点之一。我看了不少书，发现有些写得差的书中，就把指针的这两个概念搅在一起了，所以看起书来前后矛盾，越看越糊涂。 
指针的值，或者叫指针所指向的内存区或地址 
　　指针的值是指针本身存储的数值，这个值将被编译器当作一个地址，而不是一个一般的数值。在32位程序里，所有类型的指针的值都是一个32位整数，因为32位程序里内存地址全都是32位长。 指针所指向的内存区就是从指针的值所代表的那个内存地址开始，长度为si zeof(指针所指向的类型)的一片内存区。以后，我们说一个指针的值是XX，就相当于说该指针指向了以XX为首地址的一片内存区域；我们说一个指针指向了某块内存区域，就相当于说该指针的值是这块内存区域的首地址。 
　　指针所指向的内存区和指针所指向的类型是两个完全不同的概念。在例一中，指针所指向的类型已经有了，但由于指针还未初始化，所以它所指向的内存区是不存在的，或者说是无意义的。 
　　以后，每遇到一个指针，都应该问问：这个指针的类型是什么？指针指的类型是什么？该指针指向了哪里？ 
　　指针本身所占据的内存区 
　　指针本身占了多大的内存？你只要用函数sizeof(指针的类型)测一下就知道了。在32位平台里，指针本身占据了4个字节的长度。 
　　指针本身占据的内存这个概念在判断一个指针表达式是否是左值时很有用。 
　　指针的算术运算 
指针可以加上或减去一个整数。指针的这种运算的意义和通常的数值的加减运算的意义是不一样的。例如： 
　　例二： 
　　1、chara[20]; 
　　2、int*ptr=a; 
　　... 
　... 
　　3、ptr++; 
　　在上例中，指针ptr的类型是int*,它指向的类型是int，它被初始化为指向整形变量a。接下来的第3句中，指针ptr被加了1，编译器是这样处理的：它把指针ptr的值加上了sizeof(int)，在32位程序中，是被加上了4。由于地址是用字节做单位的，故ptr所指向的地址由原来的变量a的地址向高地址方向增加了4个字节。 
由于char类型的长度是一个字节，所以，原来ptr是指向数组a的第0号单元开始的四个字节，此时指向了数组a中从第4号单元开始的四个字节。 
　　我们可以用一个指针和一个循环来遍历一个数组，看例子： 
　　例三： 
intarray[20]; 
int*ptr=array; 
... 
//此处略去为整型数组赋值的代码。 
... 
for(i=0;i &lt;20;i++) 
&#123; 
　(*ptr)++; 
　ptr++； 
&#125; 
　　这个例子将整型数组中各个单元的值加1。由于每次循环都将指针ptr加1，所以每次循环都能访问数组的下一个单元。 

　　再看例子： 

　　例四： 

　　1、chara[20]; 
　　2、int*ptr=a; 
　　... 
　　... 
　　3、ptr+=5; 
　　在这个例子中，ptr被加上了5，编译器是这样处理的：将指针ptr的值加上5乘sizeof(int)，在32位程序中就是加上了5乘4=20。由于地址的单位是字节，故现在的ptr所指向的地址比起加5后的ptr所指向的地址来说，向高地址方向移动了20个字节。在这个例子中，没加5前的ptr指向数组a的第0号单元开始的四个字节，加5后，ptr已经指向了数组a的合法范围之外了。虽然这种情况在应用上会出问题，但在语法上却是可以的。这也体现出了指针的灵活性。
</code></pre>
<p>参考：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://tieba.baidu.com/p/1760590296">http://tieba.baidu.com/p/1760590296</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/posts/367c0bbd.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="第三选">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Faceless Void">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/367c0bbd.html" class="post-title-link" itemprop="url">centos安装nodejs</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-06-13 17:30:51" itemprop="dateCreated datePublished" datetime="2015-06-13T17:30:51+00:00">2015-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-02 13:39:12" itemprop="dateModified" datetime="2021-03-02T13:39:12+00:00">2021-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/posts/367c0bbd.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="posts/367c0bbd.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h2><pre><code># yum install openssl-devel
# cd /usr/local/src
# wget http://nodejs.org/dist/node-latest.tar.gz
# tar zxvf node-latest.tar.gz
(cd into extracted folder: ex &quot;cd node-v0.10.3&quot;)
# ./configure
# make
# make install
</code></pre>
<p>Note that this requires Python 2.6+ to use ./configure above. You can modify the “configure” file to point to python2.7 in line 1 if necessary.</p>
<p>To create an RPM package, you can use FPM:</p>
<pre><code># wget http://nodejs.org/dist/node-latest.tar.gz
# tar zxvf node-latest.tar.gz
(cd into extracted folder: ex &quot;cd node-v0.10.3&quot;)
# ./configure --prefix=/usr/
# make
# mkdir /tmp/nodejs
# make install DESTDIR=/tmp/nodejs/
# tree -L 3 /tmp/nodejs/
/tmp/nodejs/
└── usr
    ├── bin
    │   ├── node
    │   ├── node-waf
    │   └── npm -&gt; ../lib/node_modules/npm/bin/npm-cli.js
    ├── include
    │   └── node
    ├── lib
    │   ├── dtrace
    │   ├── node
    │   └── node_modules
    └── share
        └── man
</code></pre>
<p>Now make the nodejs package:</p>
<pre><code># fpm -s dir -t rpm -n nodejs -v 0.8.18 -C /tmp/nodejs/ usr/bin usr/lib
Then install and check the version:

# rpm -ivh nodejs-0.8.18-1.x86_64.rpm 
Preparing...                ########################################### [100%]
   1:nodejs                 ########################################### [100%]

# /usr/bin/node --version
v0.8.18
Source: https://github.com/jordansissel/fpm/wiki/PackageMakeInstall
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">第三选</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">69</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">第三选</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://blog-kh2xumfqa3.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
